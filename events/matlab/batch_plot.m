% This is an example batch plot to call wrap_plot_all_stations
% i.e. to produce figures used in EG paper or 2D CWI source sep chapter of
% midterm
%

Lcut = 2;
Hcut = 1;
str = 'r37_55'; %descriptor string to add to file name;

fname_multi_p1 = {'receiver000037.txt','receiver000038.txt','receiver000039.txt',...
    'receiver000040.txt', ...
    'receiver000076.txt','receiver000077.txt','receiver000078.txt', ...
    'receiver000041.txt','receiver000082.txt','receiver000083.txt',...
    'receiver000084.txt','receiver000042.txt',...
    'receiver000043.txt','receiver000044.txt','receiver000045.txt'};
fname_u1 = 'receiver000036.txt';
known_sep1 = [sqrt(2*(2*20)^2),sqrt(2*(4*20)^2), sqrt(2*(6*20)^2),sqrt(2*(8*20)^2),...
            sqrt(2*(9*20)^2), sqrt(2*(10*20)^2), sqrt(2*(11*20)^2), ...
            sqrt(2*(12*20)^2),sqrt(2*(13*20)^2),sqrt(2*(14*20)^2), sqrt(2*(15*20)^2), ...
            sqrt(2*(16*20)^2),sqrt(2*(20*20)^2), sqrt(2*(24*20)^2), ...
            sqrt(2*(28*20)^2)];       
[xcorrStruc1,sepStruc1] = wrap_plot_all_stations('/export/storage/davidr/play/synthwave', ...
    fname_u1, fname_multi_p1, known_sep1, Lcut,Hcut,[0,0,1,1])

fname_multi_p2 = {'receiver000047.txt', 'receiver000048.txt','receiver000049.txt',...
    'receiver000050.txt', ...
    'receiver000079.txt','receiver000080.txt','receiver000081.txt', ...
    'receiver000051.txt','receiver000085.txt','receiver000086.txt',...
    'receiver000087.txt','receiver000052.txt',...
    'receiver000053.txt','receiver000054.txt','receiver000055.txt'};
fname_u2 = 'receiver000046.txt';
known_sep2 = [sqrt(2*(2*20)^2),sqrt(2*(4*20)^2), sqrt(2*(6*20)^2),sqrt(2*(8*20)^2),...
            sqrt(2*(9*20)^2), sqrt(2*(10*20)^2), sqrt(2*(11*20)^2), ...
            sqrt(2*(12*20)^2),sqrt(2*(13*20)^2),sqrt(2*(14*20)^2), sqrt(2*(15*20)^2), ...
            sqrt(2*(16*20)^2),sqrt(2*(20*20)^2), sqrt(2*(24*20)^2), ...
            sqrt(2*(28*20)^2)];       
[xcorrStruc2,sepStruc2] = wrap_plot_all_stations('/export/storage/davidr/play/synthwave', ...
    fname_u2, fname_multi_p2, known_sep2, Lcut, Hcut,[0,0,1,1])

save([str,'_data_',num2str(Hcut),'to',num2str(Lcut),'Hz.mat'], 'xcorrStruc1','sepStruc1', ...
    'xcorrStruc2','sepStruc2','fname_u1','fname_u2', ...
    'fname_multi_p1','fname_multi_p2','known_sep1','known_sep2')